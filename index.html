<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Personality Pattern Assessment</title>

<style>
:root {
  --bg:#0f1220; --card:#181c33; --accent:#6cf2c2;
  --muted:#9aa0c3; --radius:14px;
  font-family: Inter, system-ui, sans-serif;
}
html { font-size: clamp(14px,1.2vw,16px); }
body {
  margin:0; background:radial-gradient(circle at top,#1b2045,var(--bg));
  color:white;
}
.container { max-width:720px; margin:auto; padding:24px; }
.card {
  background:var(--card); border-radius:var(--radius);
  padding:24px; box-shadow:0 20px 60px rgba(0,0,0,.4);
  animation:fadeUp .4s ease;
}
h1,h2,h3 { margin-top:0; }
p { color:var(--muted); line-height:1.6; }
button {
  background:linear-gradient(135deg,var(--accent),#4fd1ff);
  border:none; padding:14px 20px; border-radius:999px;
  font-weight:600; cursor:pointer;
}
button:active { transform:scale(.96); }

.progress { height:6px; background:#2a2f55; border-radius:999px; overflow:hidden; }
.progress span {
  display:block; height:100%; width:0%;
  background:linear-gradient(90deg,var(--accent),#4fd1ff);
  transition:width .4s ease;
}

.scale { display:flex; flex-wrap:wrap; gap:8px; margin-top:20px; }
.scale button {
  flex:1 1 calc(50% - 8px);
  background:#2a2f55; color:white;
}
@media(min-width:520px){ .scale button{flex:1;} }

.result-bar { margin:12px 0; }
.bar { height:10px; background:#2a2f55; border-radius:999px; overflow:hidden; }
.bar span {
  display:block; height:100%; width:0%;
  background:linear-gradient(90deg,var(--accent),#4fd1ff);
  transition:width .8s ease;
}
hr { border:none; border-top:1px solid #2a2f55; margin:24px 0; }
ul li { margin-bottom:6px; }

@keyframes fadeUp {
  from { opacity:0; transform:translateY(12px); }
  to { opacity:1; transform:none; }
}
</style>
</head>

<body>
<div class="container"><div id="app"></div></div>

<script>
/* ================= CONFIG ================= */
const SHOW_FAMOUS_EXAMPLES = true; // ← set FALSE to remove them entirely

/* ================= DATA ================= */
const DIMENSIONS = {
  AC:"Awareness", FA:"Autonomy", IR:"Reflectiveness", HP:"Purpose"
};

const QUESTIONS = [
  {d:"AC",t:"I question why I believe what I believe.",s:1},
  {d:"AC",t:"I follow norms without reflection.",s:-1},
  {d:"FA",t:"Fear of failure limits my choices.",s:-1},
  {d:"FA",t:"I act from internal values.",s:1},
  {d:"IR",t:"I act before thinking.",s:-1},
  {d:"IR",t:"I consider long-term consequences.",s:1},
  {d:"HP",t:"I prioritize comfort over meaning.",s:-1},
  {d:"HP",t:"I tolerate discomfort for purpose.",s:1}
];

const ARCHETYPES = [
  {
    name:"Strategic Architect",
    traits:[
      "High autonomy",
      "Reflective decision-making",
      "Long-term purpose orientation"
    ],
    famous:["Elon Musk","Marie Curie","Nelson Mandela"],
    score:s=> (s.FA+s.IR+s.HP)/3
  },
  {
    name:"Reflective Analyst",
    traits:[
      "High awareness",
      "Deliberate thinking",
      "Conceptual depth"
    ],
    famous:["Albert Einstein","Hannah Arendt"],
    score:s=> (s.AC+s.IR)/2
  },
  {
    name:"Action-Oriented Pioneer",
    traits:[
      "High autonomy",
      "Rapid execution",
      "Comfort with uncertainty"
    ],
    famous:["Richard Branson","Theodore Roosevelt"],
    score:s=> (s.FA - s.IR)
  }
];

/* ================= STATE ================= */
let state={index:0,answers:[]};
const app=document.getElementById("app");

/* ================= FLOW ================= */
function start(){
  state.index=0;
  state.answers=Array(QUESTIONS.length).fill(null);
  renderQuestion();
}

function renderIntro(){
  app.innerHTML=`
    <div class="card">
      <h1>Personality Pattern Assessment</h1>
      <p>Explores behavioral tendencies. Not diagnostic or predictive.</p>
      <button onclick="start()">Start</button>
    </div>`;
}

function renderQuestion(){
  const q=QUESTIONS[state.index];
  const p=Math.round(state.index/QUESTIONS.length*100);
  app.innerHTML=`
    <div class="progress"><span style="width:${p}%"></span></div>
    <div class="card">
      <h3>${q.t}</h3>
      <div class="scale">
        ${[-2,-1,0,1,2].map(v=>`
          <button onclick="answer(${v})">
            ${["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"][v+2]}
          </button>`).join("")}
      </div>
    </div>`;
}

function answer(v){
  state.answers[state.index++]=v;
  state.index<QUESTIONS.length ? renderQuestion() : renderResults();
}

/* ================= SCORING ================= */
function calculateScores(){
  let s={AC:0,FA:0,IR:0,HP:0}, c={AC:0,FA:0,IR:0,HP:0};
  state.answers.forEach((a,i)=>{
    if(a!==null){
      s[QUESTIONS[i].d]+=a*QUESTIONS[i].s;
      c[QUESTIONS[i].d]++;
    }
  });
  for(let d in s){
    s[d]=Math.round((s[d]/(c[d]*2||1))*100);
  }
  return s;
}

function rankArchetypes(scores){
  return ARCHETYPES
    .map(a=>{
      const raw=a.score(scores);
      return {
        ...a,
        confidence:Math.min(100,Math.max(0,Math.round(Math.abs(raw))))
      };
    })
    .filter(a=>a.confidence>25)
    .sort((a,b)=>b.confidence-a.confidence);
}

/* ================= RESULTS ================= */
function renderResults(){
  const scores=calculateScores();
  const matches=rankArchetypes(scores);

  app.innerHTML=`
    <div class="card">
      <h1>Results</h1>

      ${Object.entries(scores).map(([k,v])=>`
        <div class="result-bar">
          <small>${DIMENSIONS[k]}</small>
          <div class="bar"><span data-w="${Math.abs(v)}%"></span></div>
        </div>`).join("")}

      <hr>
      <h3>Archetype Matches</h3>

      ${matches.map(m=>`
        <p><strong>${m.name}</strong> — Confidence: ${m.confidence}%</p>
        <ul>${m.traits.map(t=>`<li>${t}</li>`).join("")}</ul>
        ${SHOW_FAMOUS_EXAMPLES ? `
          <p style="font-size:.85rem;color:var(--muted)">
            Illustrative examples often associated with similar patterns:
            ${m.famous.join(", ")}
          </p>` : ""}
        <hr>`).join("")}

      <p style="font-size:.85rem;color:var(--muted)">
        These results describe pattern resemblance only. They are illustrative,
        non-clinical, and not predictive of outcomes or capability.
      </p>

      <button onclick="start()">Retake</button>
    </div>`;

  requestAnimationFrame(()=>{
    document.querySelectorAll(".bar span")
      .forEach(b=>b.style.width=b.dataset.w);
  });
}

renderIntro();
</script>
</body>
</html>

