<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Personality Pattern Assessment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
/* =========================
   DESIGN SYSTEM
========================= */
:root {
  --primary: #6366f1;
  --bg-dark: #020617;
  --bg-light: #f8fafc;
  --card: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --radius: 16px;
  --transition: 0.35s ease;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: Inter, system-ui, -apple-system, sans-serif;
}

body {
  min-height: 100vh;
  background:
    radial-gradient(circle at top left, #818cf8 0%, transparent 40%),
    radial-gradient(circle at bottom right, #38bdf8 0%, transparent 40%),
    linear-gradient(135deg, #020617, #0f172a);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.app {
  width: 100%;
  max-width: 720px;
  background: rgba(255,255,255,0.97);
  border-radius: var(--radius);
  padding: 32px;
  box-shadow: 0 40px 80px rgba(0,0,0,.35);
  animation: fadeIn .6s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

h1 { font-size: 1.9rem; margin-bottom: 8px; }
h2 { font-size: 1.4rem; margin-bottom: 10px; }
p { color: var(--muted); line-height: 1.6; }

button {
  border: none;
  cursor: pointer;
  transition: var(--transition);
}

/* =========================
   LIKERT SCALE
========================= */
.scale {
  display: flex;
  justify-content: space-between;
  margin-top: 24px;
}

.scale button {
  flex: 1;
  margin: 0 4px;
  padding: 14px 8px;
  border-radius: 999px;
  background: #eef2ff;
  font-size: 0.8rem;
}

.scale button:hover {
  background: var(--primary);
  color: #fff;
  transform: translateY(-2px);
}

/* =========================
   PROGRESS
========================= */
.progress {
  height: 8px;
  background: #e5e7eb;
  border-radius: 999px;
  overflow: hidden;
  margin: 20px 0;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #6366f1, #4f46e5);
  transition: width 0.4s ease;
}

/* =========================
   RESULT VISUALS
========================= */
.bar {
  margin: 10px 0;
}
.bar-label {
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.bar-track {
  height: 10px;
  background: #e5e7eb;
  border-radius: 999px;
  overflow: hidden;
}
.bar-fill {
  height: 100%;
  background: var(--primary);
  width: 50%;
}

/* =========================
   EXPANDABLE SECTIONS
========================= */
details {
  margin-top: 14px;
}
summary {
  font-weight: 600;
  cursor: pointer;
}
details p {
  margin-top: 8px;
  font-size: 0.9rem;
}
</style>
</head>

<body>
<div class="app" id="app"></div>

<script>
/* =====================================================
   DATA MODEL
===================================================== */

/*
Each question:
- dimension: A/C, F/A, R/I, P/H
- direction: +1 or -1
*/
const questions = [
  // Awareness vs Conditioning (A/C)
  { text: "I often observe my own thoughts rather than getting lost in them.", dim: "AC", dir: 1 },
  { text: "Most of my beliefs come from my upbringing or culture.", dim: "AC", dir: -1 },
  // (Add 8 more AC questions)

  // Fear vs Autonomy (F/A)
  { text: "Fear often stops me from acting even when I know better.", dim: "FA", dir: -1 },
  { text: "I act according to my values even under pressure.", dim: "FA", dir: 1 },
  // (Add 8 more FA questions)

  // Reflective vs Impulsive (R/I)
  { text: "I reflect deeply before making important decisions.", dim: "RI", dir: 1 },
  { text: "I often act first and think later.", dim: "RI", dir: -1 },
  // (Add 8 more RI questions)

  // Purpose vs Hedonic (P/H)
  { text: "Long-term meaning matters more than short-term pleasure.", dim: "PH", dir: 1 },
  { text: "I prioritize enjoyment over future goals.", dim: "PH", dir: -1 },
  // (Add 8 more PH questions)
];

// Likert mapping
const SCALE = [2, 1, 0, -1, -2];

// Scores per dimension
let scores = {
  AC: 0,
  FA: 0,
  RI: 0,
  PH: 0
};

let index = 0;

/* =====================================================
   RENDERING
===================================================== */
const app = document.getElementById("app");

function renderIntro() {
  app.innerHTML = `
    <h1>Personality Pattern Assessment</h1>
    <p>
      This assessment explores how you think, decide, and relate to the world.
      There are no right or wrong answers.
    </p>
    <p><strong>Time:</strong> ~10 minutes</p>
    <button onclick="startTest()" style="margin-top:20px;padding:14px 30px;border-radius:999px;background:var(--primary);color:white;">
      Begin Assessment
    </button>
  `;
}

function startTest() {
  index = 0;
  renderQuestion();
}

function renderQuestion() {
  const q = questions[index];
  const progress = ((index) / questions.length) * 100;

  app.innerHTML = `
    <div class="progress"><div class="progress-bar" style="width:${progress}%"></div></div>
    <h2>${q.text}</h2>
    <div class="scale">
      ${["Strongly Agree","Agree","Neutral","Disagree","Strongly Disagree"]
        .map((l,i)=>`<button onclick="answer(${i})">${l}</button>`).join("")}
    </div>
  `;
}

function answer(choice) {
  const q = questions[index];
  scores[q.dim] += SCALE[choice] * q.dir;
  index++;
  if (index < questions.length) renderQuestion();
  else renderResults();
}

/* =====================================================
   RESULTS
===================================================== */
function renderResults() {
  // Normalize to -100 â†’ +100
  const norm = d => Math.max(-100, Math.min(100, d * 5));

  const result = {
    AC: norm(scores.AC),
    FA: norm(scores.FA),
    RI: norm(scores.RI),
    PH: norm(scores.PH)
  };

  const code =
    (result.AC >= 0 ? "A" : "C") +
    (result.FA >= 0 ? "A" : "F") +
    (result.RI >= 0 ? "R" : "I") +
    (result.PH >= 0 ? "P" : "H");

  localStorage.setItem("lastResult", JSON.stringify({ result, code }));

  app.innerHTML = `
    <h1>Your Personality Pattern</h1>
    <h2>${code}</h2>

    ${renderBar("Awareness vs Conditioning", result.AC)}
    ${renderBar("Autonomy vs Fear", result.FA)}
    ${renderBar("Reflective vs Impulsive", result.RI)}
    ${renderBar("Purpose vs Hedonic", result.PH)}

    <details>
      <summary>Strengths</summary>
      <p>You show consistency in how you process information and act on values.</p>
    </details>

    <details>
      <summary>Blind Spots</summary>
      <p>Over-identifying with one side can reduce flexibility.</p>
    </details>

    <details>
      <summary>Growth Recommendations</summary>
      <p>Balance awareness with action. Balance purpose with enjoyment.</p>
    </details>

    <p style="margin-top:20px;font-size:.8rem;color:var(--muted);">
      This assessment is non-clinical and intended for self-reflection only.
    </p>
  `;
}

function renderBar(label, value) {
  const pct = (value + 100) / 2;
  return `
    <div class="bar">
      <div class="bar-label">${label} (${value}%)</div>
      <div class="bar-track">
        <div class="bar-fill" style="width:${pct}%"></div>
      </div>
    </div>
  `;
}

/* =====================================================
   INIT
===================================================== */
renderIntro();
</script>
</body>
</html>

